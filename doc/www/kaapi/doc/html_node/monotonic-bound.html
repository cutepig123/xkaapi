<html lang="en">
<head>
<title>monotonic bound - kaapi</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="kaapi">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="start" href="index.html#Top">
<link rel="up" href="API.html#API" title="API">
<link rel="prev" href="shared.html#shared" title="shared">
<link rel="next" href="synchronized-blocks.html#synchronized-blocks" title="synchronized blocks">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
This manual is for KAAPI (version 2.4.1, 16 June 2010),
Hyantes is free software; you can redistribute it and/or modify
it under the terms of the GPL License

Copyright (C) 2007 LIG-->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
pre, hr, code, .file, .command, .option, h1, h2, h3, h4, h5 { color: #007676; }
pre { border:thin dashed #808080; }

pre {
    padding:2px;
    margin-left:2%;
    width:90%;
}

address {
    margin-left:1%;
}

div.contents {
    border-left:thin dashed #808080;
    margin-left:1%;
}

code, .command, .option {
    font-size:100%;
    /*border:thin dashed #808080;*/
    font-family:monospace;
    font-weight:bolder;
    padding:2px;
}

.node {
    font-size:70%;
}


a:link, a:visited, a:hover {
	color: #666666;
}

a.download:before {
    content:url(download.png);
}
/*
p a:before {
    content:url(url.png)
}
*/
dt:before {
    content:url(circle.png);
}

body {
  font-family: arial, serif;
  background-color: #ffffff;
  margin: 0px auto 10px auto;
  padding: 0px;
}

p, dl {
    margin: 5px 10px 10px 10px;
	line-height: 130%;
}

ul li {
  margin: 5px 0px 5px 0px;
}

h1 {
    font-size:200%;
    font-variant:small-caps;
    margin: 10px 10px 10px 10px;
    text-align: center;
}

h2 {
    font-variant:small-caps;
	font-size: 110%;
    margin: 10px 10px 5px 2px;
}

h3 {
	font-size: 100%;
    margin: 10px 10px 5px 4px;
}
h4 {
	font-size: 100%;
    margin: 10px 10px 5px 6px;
}
h5 {
	font-size: 100%;
    margin: 10px 10px 5px 8px;
}

.menu {
  margin-top: 5px;
  margin-bottom: 15px;
  list-style-image: url("arrow.png");
}
	

ul {
  margin-top: 5px;
  margin-bottom: 15px;
  list-style-image: url("arrow.png");
}

hr {
  border: 1;
  width: 80%;
  text-align:left;
}

--></style>
</head>
<body>
<div class="node">
<a name="monotonic-bound"></a>
<p>
Next:&nbsp;<a rel="next" accesskey="n" href="synchronized-blocks.html#synchronized-blocks">synchronized blocks</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="shared.html#shared">shared</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="API.html#API">API</a>
<hr>
</div>

<h3 class="section">6.3 MonotonicBound</h3>

     <dl>
<dt><strong>Declaration</strong><dd>
     <pre class="example">          template&lt;class T, class F&gt;
          class MonotonicBound
          {
              MonotonicBound(const string&amp; name, T* initial_value = 0 );
              void update(const T&amp; t);
              void acquire();
              void release();
              const T&amp; read() const;
          };
</pre>
     <br><dt><strong>Template Parameters</strong><dd>
          <dl>
<dt><var>T</var><dd>Type of the variable to share. 
Type <var>T</var> must be communicable. 
<br><dt><var>F</var><dd>Type of the update function object. 
<var>F</var> must have an empty constructor and a <code> bool operator() (T&amp; result, const T&amp; value ); </code> method. 
this method returns true if <var>result</var> was updated. 
</dl>

     <br><dt><strong>Methods</strong><dd>
          <dl>
<dt><code>MonotonicBound(const string&amp; name, T* initial_value = 0 )</code><a name="index-MonotonicBound_0028const-string_0026-name_002c-T_002a-initial_005fvalue-_003d-0-_0029-20"></a><dd>Constructor of the class. 
<var>name</var> must be a unique identifier. 
If given, the <var>initial_value</var> is now owned by the object and need not to be realeased.

          <br><dt><code>update(const T&amp; t)</code><a name="index-update_0028const-T_0026-t_0029-21"></a><dd>Update the content of the object using the <var>F</var> update function. 
It is responsible to get the update the local value of the bound. 
The invocation of update should be surround by invocations <code>acquire</code>/<code>release</code>. 
Multiple update may be invoked between invocations to <code>acquire</code>/<code>release</code>.

          <br><dt><code>acquire()</code><a name="index-acquire_0028_0029-22"></a><dd>Is responsible to get the initial value of the bound from processor that manage it. 
If such an initial value exists, then the method take the last updated value as the current value.

          <br><dt><code>release()</code><a name="index-release_0028_0029-23"></a><dd>Is responsible to update all copies of the bound is the local value has been updated. 
After the invocation of release, the local processor that has release the bound should re-invoke i<code>acquire</code>: the read value will be the updated value. 
Other processor will be able to read the updated value in a bounded time.

          <br><dt><code>read()</code><a name="index-read_0028_0029-24"></a><dd>is responsible returns a reference to the last value acquired by the invocation to <code>acquire</code>. 
The invocation of read should be surround by invocations to <code>acquire</code>/<code>release</code>. 
Multiple read may be invoked between invocations to <code>acquire</code>/<code>release</code>. 
</dl>

</dl>
   <!--  -->
<!-- @node remote iterator -->
<!-- @section Remote -->

   <p>&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;

   </body></html>

