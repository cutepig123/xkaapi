<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Kaapi: FT::HeartBeatDetector Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespace_f_t.html">FT</a>::<a class="el" href="class_f_t_1_1_heart_beat_detector.html">HeartBeatDetector</a>
  </div>
</div>
<div class="contents">
<h1>FT::HeartBeatDetector Class Reference<br/>
<small>
[<a class="el" href="group___f_t.html">Fault tolerance</a>]</small>
</h1><!-- doxytag: class="FT::HeartBeatDetector" --><!-- doxytag: inherits="FT::FailureDetector,Util::Object,Net::Service,Net::NetworkObject,Util::EventCallback" -->
<p>Heartbeat fault tolerance detectorThe algorithm is to send to randomly selected known local node a message at a certain period and to test is a reply was arrived before a certain latency. If not the node is marked as suspected and then marked as failed. In this case, the node is signaled to the kaapicontroller. The HeartBeat detector is controlled by following properties</p>
<ul>
<li>'ft.fdetector.heartbeat.period' &lt;integer&gt; : the period of heart beat</li>
<li>'ft.fdetector.heartbeat.latency' &lt;integer&gt; : the latency before a node is considered as suspect. </li>
</ul>
 
<a href="#_details">More...</a></p>

<p><code>#include &lt;kaapi_ftmheartbeat.h&gt;</code></p>
<div class="dynheader">
Inheritance diagram for FT::HeartBeatDetector:</div>
<div class="dynsection">
<div class="center"><img src="class_f_t_1_1_heart_beat_detector__inherit__graph.png" border="0" usemap="#_f_t_1_1_heart_beat_detector_inherit__map" alt="Inheritance graph"/></div>
<map name="_f_t_1_1_heart_beat_detector_inherit__map" id="_f_t_1_1_heart_beat_detector_inherit__map">
<area shape="rect" id="node2" href="class_f_t_1_1_failure_detector.html" title="FailureDetector objectThis object represents a failure detector. It defines methods..." alt="" coords="5,83,163,112"/><area shape="rect" id="node4" href="class_util_1_1_object.html" title="Object with synchronisation mutex and condition variablesThe Object class defines..." alt="" coords="187,83,285,112"/><area shape="rect" id="node6" href="class_util_1_1_object_id.html" title="Object with identifierThe Object class defines object that needs to have and identifier..." alt="" coords="48,5,163,35"/><area shape="rect" id="node8" href="class_util_1_1_mutex.html" title="Exclusive code execution.This class implements interface for Posix mutex. All errors..." alt="" coords="187,5,285,35"/><area shape="rect" id="node10" href="class_util_1_1_condition.html" title="Posix conditionsThis class implements interface to posix condition variable. All..." alt="" coords="309,5,429,35"/><area shape="rect" id="node12" href="class_net_1_1_service.html" title="Net::Service" alt="" coords="309,83,419,112"/><area shape="rect" id="node14" href="class_net_1_1_network_object.html" title="Net::NetworkObject" alt="" coords="443,83,603,112"/><area shape="rect" id="node16" href="class_util_1_1_event_callback.html" title="Util::EventCallback" alt="" coords="627,83,781,112"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for FT::HeartBeatDetector:</div>
<div class="dynsection">
<div class="center"><img src="class_f_t_1_1_heart_beat_detector__coll__graph.png" border="0" usemap="#_f_t_1_1_heart_beat_detector_coll__map" alt="Collaboration graph"/></div>
<map name="_f_t_1_1_heart_beat_detector_coll__map" id="_f_t_1_1_heart_beat_detector_coll__map">
<area shape="rect" id="node2" href="class_f_t_1_1_failure_detector.html" title="FailureDetector objectThis object represents a failure detector. It defines methods..." alt="" coords="2164,453,2321,483"/><area shape="rect" id="node4" href="class_util_1_1_object.html" title="Object with synchronisation mutex and condition variablesThe Object class defines..." alt="" coords="799,719,897,748"/><area shape="rect" id="node22" href="class_net_1_1_network.html" title="Net::Network" alt="" coords="1257,596,1372,625"/><area shape="rect" id="node45" href="class_net_1_1_channel.html" title="Net::Channel" alt="" coords="1257,1875,1372,1904"/><area shape="rect" id="node51" href="class_net_1_1_i_o_instruction_stream.html" title="Net::IOInstructionStream" alt="" coords="2487,1716,2684,1745"/><area shape="rect" id="node63" href="class_net_1_1_device.html" title="Net::Device" alt="" coords="2189,799,2296,828"/><area shape="rect" id="node99" href="class_net_1_1_i_o_daemon.html" title="Net::IODaemon" alt="" coords="2176,1084,2309,1113"/><area shape="rect" id="node142" href="class_net_1_1_group.html" title="Net::Group" alt="" coords="2193,245,2292,275"/><area shape="rect" id="node6" href="class_util_1_1_object_id.html" title="Object with identifierThe Object class defines object that needs to have and identifier..." alt="" coords="449,899,564,928"/><area shape="rect" id="node101" href="class_util_1_1_thread.html" title="POSIX interface to thread." alt="" coords="1820,1295,1927,1324"/><area shape="rect" id="node8" href="class_util_1_1_mutex.html" title="Exclusive code execution.This class implements interface for Posix mutex. All errors..." alt="" coords="457,331,556,360"/><area shape="rect" id="node14" href="class_net_1_1_service_manager.html" title="Manager of Kaapi servicesAn active message is send to a service. A service is an..." alt="" coords="1787,128,1960,157"/><area shape="rect" id="node120" href="class_util_1_1_event_buffer_manager.html" title="A Generic Buffer Manager : EventBufferManager EventBufferManager is an implementation..." alt="" coords="747,1237,949,1267"/><area shape="rect" id="node10" href="class_util_1_1_condition.html" title="Posix conditionsThis class implements interface to posix condition variable. All..." alt="" coords="447,1193,567,1223"/><area shape="rect" id="node12" href="class_net_1_1_service.html" title="Net::Service" alt="" coords="1260,107,1369,136"/><area shape="rect" id="node40" href="class_net_1_1_node_info.html" title="Net::NodeInfo" alt="" coords="3067,836,3189,865"/><area shape="rect" id="node20" href="class_net_1_1_network_object.html" title="Net::NetworkObject" alt="" coords="1793,532,1953,561"/><area shape="rect" id="node36" href="class_net_1_1_cluster.html" title="Net::Cluster" alt="" coords="2532,771,2639,800"/><area shape="rect" id="node25" href="class_net_1_1_callback.html" title="Net::Callback" alt="" coords="789,507,907,536"/><area shape="rect" id="node27" href="class_util_1_1_callback.html" title="Util::Callback" alt="" coords="449,656,564,685"/><area shape="rect" id="node33" href="class_net_1_1_upcall.html" title="Net::Upcall" alt="" coords="799,659,897,688"/><area shape="rect" id="node29" href="class_util_1_1_atomic.html" title="Atomic object represents atomic operation over integer.This class implements object..." alt="" coords="247,1099,348,1128"/><area shape="rect" id="node31" href="struct_util_1_1kaapi__atomic__t.html" title="Util::kaapi_atomic_t" alt="" coords="5,1237,165,1267"/><area shape="rect" id="node43" href="class_net_1_1_out_channel.html" title="Net::OutChannel" alt="" coords="2781,1753,2923,1783"/><area shape="rect" id="node48" href="class_util_1_1_global_id.html" title="Class for representing a global identifier of the distributed processusGlobal Identifier..." alt="" coords="451,1713,563,1743"/><area shape="rect" id="node112" href="class_util_1_1_o_event_stream.html" title="Output events stream: Util::OEventStream." alt="" coords="1236,1453,1393,1483"/><area shape="rect" id="node116" href="class_util_1_1_event_buffer.html" title="A Generic Trace Buffer class: Util::EventBuffer." alt="" coords="779,1617,917,1647"/><area shape="rect" id="node53" href="class_util_1_1_queable.html" title="Util::Queable\&lt; IOInstructionStream \&gt;" alt="" coords="1172,1720,1457,1749"/><area shape="rect" id="node130" href="class_util_1_1_queue.html" title="Util::Queue\&lt; IOInstructionStream \&gt;" alt="" coords="1736,1477,2011,1507"/><area shape="rect" id="node56" href="class_util_1_1_queable.html" title="Base class of object queueable into double linked list.To be en(de)queueable in a..." alt="" coords="772,1913,924,1943"/><area shape="rect" id="node85" href="class_util_1_1_queable.html" title="Util::Queable\&lt; OutChannel \&gt;" alt="" coords="1484,1967,1711,1996"/><area shape="rect" id="node69" href="class_util_1_1_stack_list.html" title="Util::StackList\&lt; CallStack \&gt;" alt="" coords="1768,1076,1979,1105"/><area shape="rect" id="node71" href="class_util_1_1_linkable.html" title="Util::Linkable\&lt; CallStack \&gt;" alt="" coords="1211,1059,1419,1088"/><area shape="rect" id="node74" href="class_util_1_1_linkable.html" title="Base class to make cells linkable in single linked listTo be (de)linkable in single..." alt="" coords="772,1040,924,1069"/><area shape="rect" id="node76" href="class_util_1_1_stack_list.html" title="Thread linked list (thread unsafe)The StackList descriptor is linked to the top element..." alt="" coords="771,920,925,949"/><area shape="rect" id="node82" href="class_util_1_1_stack_list.html" title="Util::StackList\&lt; Bloc \&gt;" alt="" coords="1227,899,1403,928"/><area shape="rect" id="node78" href="class_net_1_1_device_factory.html" title="Net::DeviceFactory" alt="" coords="1795,803,1952,832"/><area shape="rect" id="node80" href="class_util_1_1_byte_allocator.html" title="ByteAllocator of fixed size objects with cache for fast allocation (thread unsafe)A..." alt="" coords="1800,972,1947,1001"/><area shape="rect" id="node91" href="class_util_1_1_r_w_lock.html" title="Read&#45;Write lockThis class implements interface for Posix Read&#45;Write lock. All errors..." alt="" coords="2188,745,2297,775"/><area shape="rect" id="node105" href="class_util_1_1_key.html" title="Util::Key\&lt; ByteAllocator \&gt;" alt="" coords="1213,1347,1416,1376"/><area shape="rect" id="node107" href="class_util_1_1_key.html" title="Thread private attributeThis class provides an interface to posix pthread specific..." alt="" coords="788,1375,908,1404"/><area shape="rect" id="node109" href="class_util_1_1_key.html" title="Util::Key\&lt; Thread \&gt;" alt="" coords="1233,1400,1396,1429"/><area shape="rect" id="node114" href="class_util_1_1_context_id.html" title="Util::ContextId" alt="" coords="445,1580,568,1609"/><area shape="rect" id="node133" href="class_util_1_1_queue.html" title="Double linked list (thread unsafe)The queue descriptor is linked to the first and..." alt="" coords="1244,1507,1385,1536"/><area shape="rect" id="node136" href="class_util_1_1_event_callback.html" title="Util::EventCallback" alt="" coords="1796,428,1951,457"/><area shape="rect" id="node139" href="struct_util_1_1_event.html" title="Util::Event" alt="" coords="2196,349,2289,379"/><area shape="rect" id="node145" href="class_util_1_1_interface_notify.html" title="InterfaceNotify for the local signal." alt="" coords="1792,181,1955,211"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="class_f_t_1_1_heart_beat_detector-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_t_1_1_heart_beat_detector.html#a10014ff43a6a15c59cc60d3ad199b6f5">HeartBeatDetector</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_t_1_1_heart_beat_detector.html#aa4c0f7ce118d601dc7c11820e1199fc6">initialize</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_t_1_1_heart_beat_detector.html#aa3a4670a5e0f675f04cf4ab424ca149c">commit</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_t_1_1_heart_beat_detector.html#a7d03e695e18db4182a51587464abf004">terminate</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_t_1_1_heart_beat_detector.html#a80f849b09a7e126a5b2fd26a900e7b58">start_detector</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_t_1_1_heart_beat_detector.html#a9ffa8920c3c7cfe28ec394c641692a19">stop_detector</a> ()</td></tr>
<tr><td colspan="2"><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_t_1_1_heart_beat_detector.html#a135a0091d9ad1696a9412786a6d4a2a9">add_options</a> (<a class="el" href="class_util_1_1_parser_1_1_module.html">Util::Parser::Module</a> *module)</td></tr>
<tr><td colspan="2"><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_t_1_1_heart_beat_detector.html#a662754413c8f08e5cc4e36f6afdd5de3">set_group</a> (<a class="el" href="class_net_1_1_group.html">Net::Group</a> *group)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_t_1_1_heart_beat_detector.html#a33430dc5e48d29a37a62faf384176d47">get_period</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_t_1_1_heart_beat_detector.html#a5874c839e1be992b6738811356c0eb45">set_period</a> (long p)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_t_1_1_heart_beat_detector.html#a77fff38eb61e5ada38c91dfd30bb0c37">call</a> (<a class="el" href="class_net_1_1_call_stack.html">Net::CallStack</a> *cc)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_t_1_1_heart_beat_detector.html#a489f19980ff8fb88a86cde14c910da55">do_notify</a> (<a class="el" href="struct_util_1_1_event.html">Util::Event</a> &amp;evt)</td></tr>
<tr><td colspan="2"><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_t_1_1_heart_beat_detector.html#a9ef027143e183c1ccca01883be128ae9">_isterm</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">True if the service is terminated.  <a href="#a9ef027143e183c1ccca01883be128ae9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_t_1_1_heart_beat_detector.html#a43229f9aced0064fbd4b84455b9f4d7e">_period</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">period of detection in ms  <a href="#a43229f9aced0064fbd4b84455b9f4d7e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_t_1_1_heart_beat_detector.html#a57d2c8a334ebd2ef445b7d196684d691">_latency</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">latency to decide failure  <a href="#a57d2c8a334ebd2ef445b7d196684d691"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="class_util_1_1_global_id.html">Net::GlobalId</a>, double &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_t_1_1_heart_beat_detector.html#ae3b8e5a3f4987c5334f76042330cb7a7">_emitted</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">message in transit double: abs time of emission  <a href="#ae3b8e5a3f4987c5334f76042330cb7a7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_net_1_1_group.html">Net::Group</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_t_1_1_heart_beat_detector.html#ad92fbc063572805df4243dca4a5ee92c">_group</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">group  <a href="#ad92fbc063572805df4243dca4a5ee92c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_util_1_1_event.html">Util::Event</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_t_1_1_heart_beat_detector.html#af4f5734ea4c7d24dd26af128ec5364f9">_event</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">periodical event  <a href="#af4f5734ea4c7d24dd26af128ec5364f9"></a><br/></td></tr>
<tr><td colspan="2"><h2>Static Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_f_t_1_1_heart_beat_detector.html#aed08eb3e480a35f9c827afd3335723df">verboseon</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">true iff verbose mode is activated  <a href="#aed08eb3e480a35f9c827afd3335723df"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Heartbeat fault tolerance detector</p>
<p>The algorithm is to send to randomly selected known local node a message at a certain period and to test is a reply was arrived before a certain latency. If not the node is marked as suspected and then marked as failed. In this case, the node is signaled to the kaapicontroller. The HeartBeat detector is controlled by following properties</p>
<ul>
<li>'ft.fdetector.heartbeat.period' &lt;integer&gt; : the period of heart beat</li>
<li>'ft.fdetector.heartbeat.latency' &lt;integer&gt; : the latency before a node is considered as suspect. </li>
</ul>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a10014ff43a6a15c59cc60d3ad199b6f5"></a><!-- doxytag: member="FT::HeartBeatDetector::HeartBeatDetector" ref="a10014ff43a6a15c59cc60d3ad199b6f5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FT::HeartBeatDetector::HeartBeatDetector </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a135a0091d9ad1696a9412786a6d4a2a9"></a><!-- doxytag: member="FT::HeartBeatDetector::add_options" ref="a135a0091d9ad1696a9412786a6d4a2a9" args="(Util::Parser::Module *module)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void FT::HeartBeatDetector::add_options </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_util_1_1_parser_1_1_module.html">Util::Parser::Module</a> *&nbsp;</td>
          <td class="paramname"> <em>module</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>add options specific to this detector called by the component::add_options() </p>

<p>Reimplemented from <a class="el" href="class_f_t_1_1_failure_detector.html#ac4ffc0c4269692d20ad56b20683d5a7c">FT::FailureDetector</a>.</p>

</div>
</div>
<a class="anchor" id="a77fff38eb61e5ada38c91dfd30bb0c37"></a><!-- doxytag: member="FT::HeartBeatDetector::call" ref="a77fff38eb61e5ada38c91dfd30bb0c37" args="(Net::CallStack *cc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FT::HeartBeatDetector::call </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_net_1_1_call_stack.html">Net::CallStack</a> *&nbsp;</td>
          <td class="paramname"> <em>cc</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="class_net_1_1_service.html">Net::Service</a> </p>

<p>Reimplemented from <a class="el" href="class_net_1_1_service.html#a1e1e885c0b21c77d2cf5ded2d2c87472">Net::Service</a>.</p>

</div>
</div>
<a class="anchor" id="aa3a4670a5e0f675f04cf4ab424ca149c"></a><!-- doxytag: member="FT::HeartBeatDetector::commit" ref="aa3a4670a5e0f675f04cf4ab424ca149c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FT::HeartBeatDetector::commit </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>commit the detector called by the component::commit() </p>

<p>Implements <a class="el" href="class_f_t_1_1_failure_detector.html#a8aff30135c2714d22e42a29bf73419a1">FT::FailureDetector</a>.</p>

</div>
</div>
<a class="anchor" id="a489f19980ff8fb88a86cde14c910da55"></a><!-- doxytag: member="FT::HeartBeatDetector::do_notify" ref="a489f19980ff8fb88a86cde14c910da55" args="(Util::Event &amp;evt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FT::HeartBeatDetector::do_notify </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_util_1_1_event.html">Util::Event</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>evt</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="class_util_1_1_event_callback.html">Util::EventCallback</a> </p>

<p>Implements <a class="el" href="class_util_1_1_event_callback.html#a864198971c117370343040201732d77a">Util::EventCallback</a>.</p>

</div>
</div>
<a class="anchor" id="a33430dc5e48d29a37a62faf384176d47"></a><!-- doxytag: member="FT::HeartBeatDetector::get_period" ref="a33430dc5e48d29a37a62faf384176d47" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long FT::HeartBeatDetector::get_period </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aa4c0f7ce118d601dc7c11820e1199fc6"></a><!-- doxytag: member="FT::HeartBeatDetector::initialize" ref="aa4c0f7ce118d601dc7c11820e1199fc6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FT::HeartBeatDetector::initialize </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initialize the calback </p>

<p>Reimplemented from <a class="el" href="class_util_1_1_event_callback.html#ad01b056bcbd2652a2543f23b61604f1d">Util::EventCallback</a>.</p>

</div>
</div>
<a class="anchor" id="a662754413c8f08e5cc4e36f6afdd5de3"></a><!-- doxytag: member="FT::HeartBeatDetector::set_group" ref="a662754413c8f08e5cc4e36f6afdd5de3" args="(Net::Group *group)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FT::HeartBeatDetector::set_group </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_net_1_1_group.html">Net::Group</a> *&nbsp;</td>
          <td class="paramname"> <em>group</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Set the group on which to make detection </p>

</div>
</div>
<a class="anchor" id="a5874c839e1be992b6738811356c0eb45"></a><!-- doxytag: member="FT::HeartBeatDetector::set_period" ref="a5874c839e1be992b6738811356c0eb45" args="(long p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FT::HeartBeatDetector::set_period </td>
          <td>(</td>
          <td class="paramtype">long&nbsp;</td>
          <td class="paramname"> <em>p</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a80f849b09a7e126a5b2fd26a900e7b58"></a><!-- doxytag: member="FT::HeartBeatDetector::start_detector" ref="a80f849b09a7e126a5b2fd26a900e7b58" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FT::HeartBeatDetector::start_detector </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>start running the detector e.g. create periodic event </p>

<p>Implements <a class="el" href="class_f_t_1_1_failure_detector.html#a26c88653e8f6a27b31c68b8bdcee6130">FT::FailureDetector</a>.</p>

</div>
</div>
<a class="anchor" id="a9ffa8920c3c7cfe28ec394c641692a19"></a><!-- doxytag: member="FT::HeartBeatDetector::stop_detector" ref="a9ffa8920c3c7cfe28ec394c641692a19" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FT::HeartBeatDetector::stop_detector </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>stop running the detector as soon as possible </p>

<p>Implements <a class="el" href="class_f_t_1_1_failure_detector.html#a1131dd0e202e79048ccc8d6f0e12ad6c">FT::FailureDetector</a>.</p>

</div>
</div>
<a class="anchor" id="a7d03e695e18db4182a51587464abf004"></a><!-- doxytag: member="FT::HeartBeatDetector::terminate" ref="a7d03e695e18db4182a51587464abf004" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FT::HeartBeatDetector::terminate </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Terminate the calback </p>

<p>Reimplemented from <a class="el" href="class_util_1_1_event_callback.html#a121b349658abc247b8f3ef1c8a1d77e7">Util::EventCallback</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="ae3b8e5a3f4987c5334f76042330cb7a7"></a><!-- doxytag: member="FT::HeartBeatDetector::_emitted" ref="ae3b8e5a3f4987c5334f76042330cb7a7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="class_util_1_1_global_id.html">Net::GlobalId</a>,double&gt; <a class="el" href="class_f_t_1_1_heart_beat_detector.html#ae3b8e5a3f4987c5334f76042330cb7a7">FT::HeartBeatDetector::_emitted</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>message in transit double: abs time of emission </p>

</div>
</div>
<a class="anchor" id="af4f5734ea4c7d24dd26af128ec5364f9"></a><!-- doxytag: member="FT::HeartBeatDetector::_event" ref="af4f5734ea4c7d24dd26af128ec5364f9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_util_1_1_event.html">Util::Event</a>* <a class="el" href="class_f_t_1_1_heart_beat_detector.html#af4f5734ea4c7d24dd26af128ec5364f9">FT::HeartBeatDetector::_event</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>periodical event </p>

</div>
</div>
<a class="anchor" id="ad92fbc063572805df4243dca4a5ee92c"></a><!-- doxytag: member="FT::HeartBeatDetector::_group" ref="ad92fbc063572805df4243dca4a5ee92c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_net_1_1_group.html">Net::Group</a>* <a class="el" href="class_f_t_1_1_heart_beat_detector.html#ad92fbc063572805df4243dca4a5ee92c">FT::HeartBeatDetector::_group</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>group </p>

</div>
</div>
<a class="anchor" id="a9ef027143e183c1ccca01883be128ae9"></a><!-- doxytag: member="FT::HeartBeatDetector::_isterm" ref="a9ef027143e183c1ccca01883be128ae9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_f_t_1_1_heart_beat_detector.html#a9ef027143e183c1ccca01883be128ae9">FT::HeartBeatDetector::_isterm</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>True if the service is terminated. </p>

</div>
</div>
<a class="anchor" id="a57d2c8a334ebd2ef445b7d196684d691"></a><!-- doxytag: member="FT::HeartBeatDetector::_latency" ref="a57d2c8a334ebd2ef445b7d196684d691" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long <a class="el" href="class_f_t_1_1_heart_beat_detector.html#a57d2c8a334ebd2ef445b7d196684d691">FT::HeartBeatDetector::_latency</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>latency to decide failure </p>

</div>
</div>
<a class="anchor" id="a43229f9aced0064fbd4b84455b9f4d7e"></a><!-- doxytag: member="FT::HeartBeatDetector::_period" ref="a43229f9aced0064fbd4b84455b9f4d7e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long <a class="el" href="class_f_t_1_1_heart_beat_detector.html#a43229f9aced0064fbd4b84455b9f4d7e">FT::HeartBeatDetector::_period</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>period of detection in ms </p>

</div>
</div>
<a class="anchor" id="aed08eb3e480a35f9c827afd3335723df"></a><!-- doxytag: member="FT::HeartBeatDetector::verboseon" ref="aed08eb3e480a35f9c827afd3335723df" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_f_t_1_1_heart_beat_detector.html#aed08eb3e480a35f9c827afd3335723df">FT::HeartBeatDetector::verboseon</a><code> [static, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>true iff verbose mode is activated </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="kaapi__ftmheartbeat_8h.html">kaapi_ftmheartbeat.h</a></li>
</ul>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Wed Jun 16 08:52:31 2010 for Kaapi by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
