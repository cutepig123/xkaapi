<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Kaapi: WS::ServiceSteal Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespace_w_s.html">WS</a>::<a class="el" href="class_w_s_1_1_service_steal.html">ServiceSteal</a>
  </div>
</div>
<div class="contents">
<h1>WS::ServiceSteal Class Reference<br/>
<small>
[<a class="el" href="group___w_s.html">Workstealing algorithm</a>]</small>
</h1><!-- doxytag: class="WS::ServiceSteal" --><!-- doxytag: inherits="Util::Object,Net::Service" -->
<p>Steal Service for distributed workstealing algorithm.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;kaapi_stealservice.h&gt;</code></p>
<div class="dynheader">
Inheritance diagram for WS::ServiceSteal:</div>
<div class="dynsection">
<div class="center"><img src="class_w_s_1_1_service_steal__inherit__graph.png" border="0" usemap="#_w_s_1_1_service_steal_inherit__map" alt="Inheritance graph"/></div>
<map name="_w_s_1_1_service_steal_inherit__map" id="_w_s_1_1_service_steal_inherit__map">
<area shape="rect" id="node2" href="class_util_1_1_object.html" title="Object with synchronisation mutex and condition variablesThe Object class defines..." alt="" coords="144,83,243,112"/><area shape="rect" id="node4" href="class_util_1_1_object_id.html" title="Object with identifierThe Object class defines object that needs to have and identifier..." alt="" coords="5,5,120,35"/><area shape="rect" id="node6" href="class_util_1_1_mutex.html" title="Exclusive code execution.This class implements interface for Posix mutex. All errors..." alt="" coords="144,5,243,35"/><area shape="rect" id="node8" href="class_util_1_1_condition.html" title="Posix conditionsThis class implements interface to posix condition variable. All..." alt="" coords="267,5,387,35"/><area shape="rect" id="node10" href="class_net_1_1_service.html" title="Net::Service" alt="" coords="267,83,376,112"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for WS::ServiceSteal:</div>
<div class="dynsection">
<div class="center"><img src="class_w_s_1_1_service_steal__coll__graph.png" border="0" usemap="#_w_s_1_1_service_steal_coll__map" alt="Collaboration graph"/></div>
<map name="_w_s_1_1_service_steal_coll__map" id="_w_s_1_1_service_steal_coll__map">
<area shape="rect" id="node2" href="class_util_1_1_object.html" title="Object with synchronisation mutex and condition variablesThe Object class defines..." alt="" coords="84,85,183,115"/><area shape="rect" id="node4" href="class_util_1_1_object_id.html" title="Object with identifierThe Object class defines object that needs to have and identifier..." alt="" coords="5,5,120,35"/><area shape="rect" id="node6" href="class_util_1_1_mutex.html" title="Exclusive code execution.This class implements interface for Posix mutex. All errors..." alt="" coords="325,5,424,35"/><area shape="rect" id="node12" href="class_net_1_1_service_manager.html" title="Manager of Kaapi servicesAn active message is send to a service. A service is an..." alt="" coords="332,85,505,115"/><area shape="rect" id="node8" href="class_util_1_1_condition.html" title="Posix conditionsThis class implements interface to posix condition variable. All..." alt="" coords="144,5,264,35"/><area shape="rect" id="node10" href="class_net_1_1_service.html" title="Net::Service" alt="" coords="244,181,353,211"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="class_w_s_1_1_service_steal-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_w_s_1_1_service_steal_1_1_wait_context.html">WaitContext</a></td></tr>
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_w_s_1_1_service_steal.html#a8ece2bdfd8e3fac83803c68befcf7fb5">initialize</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_w_s_1_1_service_steal.html#a9a6b9727c339a7419a63a97fbcedbdad">terminate</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_w_s_1_1_service_steal.html#a2ff1b4e330e81e195bf2b804fcbfe5ea">steal_op</a> (<a class="el" href="class_core_1_1_processor.html">Core::Processor</a> *idle_processor, Core::ProcessorId &amp;victim_processor, <a class="el" href="class_core_1_1_thread.html">Core::Thread</a> *&amp;thief_thread, <a class="el" href="class_net_1_1_node_info.html">Net::NodeInfo</a> *ni, <a class="el" href="class_w_s_1_1_community.html">Community</a> *com, bool sync)</td></tr>
<tr><td colspan="2"><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_w_s_1_1_service_steal.html#ad88eacbf84a3b43d920f149ac6929974">call</a> (<a class="el" href="class_net_1_1_call_stack.html">Net::CallStack</a> *cc)</td></tr>
<tr><td colspan="2"><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::list&lt; <a class="el" href="class_w_s_1_1_service_steal_1_1_wait_context.html">WaitContext</a> * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_w_s_1_1_service_steal.html#a1572a11ce955292ba5db7dc0fecc61e6">_queue</a></td></tr>
<tr><td colspan="2"><h2>Friends</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_w_s_1_1_service_steal.html#a7851d7b5c4800e76fdceaf8c5dd472f5">WaitContext</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Steal Service for distributed workstealing algorithm. </p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ad88eacbf84a3b43d920f149ac6929974"></a><!-- doxytag: member="WS::ServiceSteal::call" ref="ad88eacbf84a3b43d920f149ac6929974" args="(Net::CallStack *cc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WS::ServiceSteal::call </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_net_1_1_call_stack.html">Net::CallStack</a> *&nbsp;</td>
          <td class="paramname"> <em>cc</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p><a class="el" href="class_net_1_1_service.html">Net::Service</a> </p>

<p>Reimplemented from <a class="el" href="class_net_1_1_service.html#a1e1e885c0b21c77d2cf5ded2d2c87472">Net::Service</a>.</p>

</div>
</div>
<a class="anchor" id="a8ece2bdfd8e3fac83803c68befcf7fb5"></a><!-- doxytag: member="WS::ServiceSteal::initialize" ref="a8ece2bdfd8e3fac83803c68befcf7fb5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WS::ServiceSteal::initialize </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initialize the use of the object. This method should be called before any use of other methods of the interface. </p>

<p>Reimplemented from <a class="el" href="class_util_1_1_object.html#a5c586b3aab6eee1a05d0374b9592e18f">Util::Object</a>.</p>

</div>
</div>
<a class="anchor" id="a2ff1b4e330e81e195bf2b804fcbfe5ea"></a><!-- doxytag: member="WS::ServiceSteal::steal_op" ref="a2ff1b4e330e81e195bf2b804fcbfe5ea" args="(Core::Processor *idle_processor, Core::ProcessorId &amp;victim_processor, Core::Thread *&amp;thief_thread, Net::NodeInfo *ni, Community *com, bool sync)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WS::ServiceSteal::steal_op </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_core_1_1_processor.html">Core::Processor</a> *&nbsp;</td>
          <td class="paramname"> <em>idle_processor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Core::ProcessorId &amp;&nbsp;</td>
          <td class="paramname"> <em>victim_processor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_core_1_1_thread.html">Core::Thread</a> *&amp;&nbsp;</td>
          <td class="paramname"> <em>thief_thread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_net_1_1_node_info.html">Net::NodeInfo</a> *&nbsp;</td>
          <td class="paramname"> <em>ni</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_w_s_1_1_community.html">Community</a> *&nbsp;</td>
          <td class="paramname"> <em>com</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>sync</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Send a steal request to the community This method allows to send steal request to other node. Depending on the value of 'sync' the caller may be blocked until a reply arrive (synchronous invocation) or the caller continue its execution will the request is send and process on the remote node. In this latter case, the theft thread will be stored into the queue of threads and will be used later on the next steal.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>idle_processor</em>&nbsp;</td><td>[in] is the idle processor that initiates the call </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>victim_processor</em>&nbsp;</td><td>[out] the victim processor </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>thief_thread</em>&nbsp;</td><td>[out] the theft thread is steal success or 0 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ni</em>&nbsp;</td><td>[in] the node info of the dest node to send the request </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>com</em>&nbsp;</td><td>[in] the community </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sync</em>&nbsp;</td><td>[in] true iff the invocation is synchronous, i.e. wait until the reply arrives. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true iff a new thread was created on receive to the reply message </dd></dl>

</div>
</div>
<a class="anchor" id="a9a6b9727c339a7419a63a97fbcedbdad"></a><!-- doxytag: member="WS::ServiceSteal::terminate" ref="a9a6b9727c339a7419a63a97fbcedbdad" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WS::ServiceSteal::terminate </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Terminate the use of the object This method should be called after any use of other methods of the interface. </p>

<p>Reimplemented from <a class="el" href="class_util_1_1_object.html#ac56dc69161e667fec85e1565509c08ac">Util::Object</a>.</p>

</div>
</div>
<hr/><h2>Friends And Related Function Documentation</h2>
<a class="anchor" id="a7851d7b5c4800e76fdceaf8c5dd472f5"></a><!-- doxytag: member="WS::ServiceSteal::WaitContext" ref="a7851d7b5c4800e76fdceaf8c5dd472f5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="class_w_s_1_1_service_steal_1_1_wait_context.html">WaitContext</a><code> [friend]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a1572a11ce955292ba5db7dc0fecc61e6"></a><!-- doxytag: member="WS::ServiceSteal::_queue" ref="a1572a11ce955292ba5db7dc0fecc61e6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt;<a class="el" href="class_w_s_1_1_service_steal_1_1_wait_context.html">WaitContext</a>*&gt; <a class="el" href="class_w_s_1_1_service_steal.html#a1572a11ce955292ba5db7dc0fecc61e6">WS::ServiceSteal::_queue</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="kaapi__stealservice_8h.html">kaapi_stealservice.h</a></li>
</ul>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Wed Jun 16 08:53:31 2010 for Kaapi by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
