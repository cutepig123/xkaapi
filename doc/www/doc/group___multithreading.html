<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Kaapi: Multithreading</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Multithreading<br/>
<small>
[<a class="el" href="group___util.html">Util</a>]</small>
</h1>
<p><a class="el" href="class_util_1_1_thread.html" title="POSIX interface to thread.">Thread</a> creation, synchronization and atomic instructions.  
<a href="#_details">More...</a></p>

<p><div class="dynheader">
Collaboration diagram for Multithreading:</div>
<div class="dynsection">
<center><table><tr><td><img src="group___multithreading.png" border="0" alt="" usemap="#group______multithreading_map"/>
<map name="group______multithreading_map" id="group______multithreading">
<area shape="rect" id="node1" href="group___util.html" title="Basic interface for operating system specification." alt="" coords="5,5,51,35"/></map></td></tr></table></center>
</div>
</p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_util_1_1_atomic.html">Util::Atomic</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="class_util_1_1_atomic.html" title="Atomic object represents atomic operation over integer.This class implements object...">Atomic</a> object represents atomic operation over integer.This class implements object with integer value and atomic operations based on compare and swap instructions, atomic increment and decrement.  <a href="class_util_1_1_atomic.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_util_1_1_object.html">Util::Object</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="class_util_1_1_object.html" title="Object with synchronisation mutex and condition variablesThe Object class defines...">Object</a> with synchronisation mutex and condition variablesThe <a class="el" href="class_util_1_1_object.html" title="Object with synchronisation mutex and condition variablesThe Object class defines...">Object</a> class defines object that needs to have and identifier, reference counter and synchronisation primitives. Only the identifier and reference counter are part of the state of the object. The synchronisation objects (one mutex and one condition) should not considered as in the state of the object. Thus all methods involving only synchronisation objects may be declared as 'const' with respect to the object.  <a href="class_util_1_1_object.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_util_1_1_object_id.html">Util::ObjectId</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="class_util_1_1_object.html" title="Object with synchronisation mutex and condition variablesThe Object class defines...">Object</a> with identifierThe <a class="el" href="class_util_1_1_object.html" title="Object with synchronisation mutex and condition variablesThe Object class defines...">Object</a> class defines object that needs to have and identifier, reference counter.  <a href="class_util_1_1_object_id.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_util_1_1_mutex.html">Util::Mutex</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Exclusive code execution.This class implements interface for Posix mutex. All errors are reported to by throwing an exception with error code contained into the error code of the exception, see <a class="el" href="group___exception.html">Exception</a>.  <a href="class_util_1_1_mutex.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_util_1_1_r_w_lock.html">Util::RWLock</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read-Write lockThis class implements interface for Posix Read-Write lock. All errors are reported to by throwing an exception with error code contained into the error code of the exception, see <a class="el" href="group___exception.html">Exception</a>.  <a href="class_util_1_1_r_w_lock.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_util_1_1_critical_guard.html">Util::CriticalGuard</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Transparent mutual exclusion facility.This class implements a transparent local scoping usage of mutex lock. An instance of this class is used to lock a bloc expression using the lexical scope of variable definition in C++. At the initialization of such an object, the associated mutex is locked and is unlocked at the destruction of the object (at the end of its scope as a C++ variable). Note that the unlock method is alway called even if an exception is thrown. Please read the code example associated with the <a class="el" href="class_util_1_1_mutex.html" title="Exclusive code execution.This class implements interface for Posix mutex. All errors...">Mutex</a> class before reading this code.  <a href="class_util_1_1_critical_guard.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_util_1_1_r_w_critical_guard.html">Util::RWCriticalGuard</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Transparent mutual exclusion facility.This class implements a transparent local scoping usage of RW lock. An instance of this class is used to read-lock a bloc expression using the lexical scope of variable definition in C++. At the initialization of such an object, the associated rwlock is read-locked and is unlocked at the destruction of the object (at the end of its scope as a C++ variable). Note that the unlock method is alway called even if an exception is thrown. Please read the code example associated with the <a class="el" href="class_util_1_1_r_w_lock.html" title="Read-Write lockThis class implements interface for Posix Read-Write lock. All errors...">RWLock</a> class before reading this code.  <a href="class_util_1_1_r_w_critical_guard.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_util_1_1_key.html">Util::Key&lt; T &gt;</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="class_util_1_1_thread.html" title="POSIX interface to thread.">Thread</a> private attributeThis class provides an interface to posix pthread specific attributes. It only includes operators for :</p>
<ul>
<li>getting specific data key <a class="el" href="class_util_1_1_key.html#a6057c11a122bfe1a0901d06aa15fd708">create()</a> with a value destructor function called at the end of the thread</li>
<li>setting/getting specific data <a class="el" href="class_util_1_1_key.html#afe666f31795eeae3fb29f7a443e20ed7">set()</a> <a class="el" href="class_util_1_1_key.html#abeec5cd2cce01307cce5939947b4e756">get()</a>. </li>
</ul>
 <a href="class_util_1_1_key.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_util_1_1_condition.html">Util::Condition</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Posix conditionsThis class implements interface to posix condition variable. All errors are returned by throwing exception.  <a href="class_util_1_1_condition.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_util_1_1_thread.html">Util::Thread</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">POSIX interface to thread.  <a href="class_util_1_1_thread.html#_details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___multithreading.html#gabcd58469ff80de36f6125dfb5ff0ea7c">KAAPI_CAS</a>(address, oldvalue, newvalue)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">CompareAndSwap atomic operation. <a class="el" href="group___multithreading.html#gabcd58469ff80de36f6125dfb5ff0ea7c" title="CompareAndSwap atomic operation. KAAPI_CAS(address, oldvalue, newvalue) compare oldvalue...">KAAPI_CAS(address, oldvalue, newvalue)</a> compare oldvalue to *address, and set *address to newvalue if the comparison is equal. The comparison and assignment occur as one atomic operation. The compare-and-swap operations return true if the comparison was equal, ie if the swap occured.  <a href="#gabcd58469ff80de36f6125dfb5ff0ea7c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___multithreading.html#ga33a317a535698d355eeb2ecd2d0cd2f6">KAAPI_ATOMIC_INCR</a>(address)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Atomic increment operation <a class="el" href="group___multithreading.html#ga33a317a535698d355eeb2ecd2d0cd2f6" title="Atomic increment operation KAAPI_ATOMIC_INCR(address) atomically increments the value...">KAAPI_ATOMIC_INCR(address)</a> atomically increments the value pointed by *address.  <a href="#ga33a317a535698d355eeb2ecd2d0cd2f6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___multithreading.html#ga37f87efe1081bb8ee41383e336fa08f6">KAAPI_ATOMIC_INCR_NV</a>(address)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Atomic increment operation <a class="el" href="group___multithreading.html#ga33a317a535698d355eeb2ecd2d0cd2f6" title="Atomic increment operation KAAPI_ATOMIC_INCR(address) atomically increments the value...">KAAPI_ATOMIC_INCR(address)</a> atomically increments the value pointed by *address and return the new value.  <a href="#ga37f87efe1081bb8ee41383e336fa08f6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___multithreading.html#ga546ee94d2cd59be8fdc268cf6c2b3667">KAAPI_ATOMIC_DECR</a>(address)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Atomic decrement operation <a class="el" href="group___multithreading.html#ga546ee94d2cd59be8fdc268cf6c2b3667" title="Atomic decrement operation KAAPI_ATOMIC_DECR(address) atomically decrements the value...">KAAPI_ATOMIC_DECR(address)</a> atomically decrements the value pointed by *address.  <a href="#ga546ee94d2cd59be8fdc268cf6c2b3667"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___multithreading.html#ga77c6232bc27b153f33500f0cf83f2e1d">KAAPI_ATOMIC_DECR_NV</a>(address)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Atomic decrement operation <a class="el" href="group___multithreading.html#ga77c6232bc27b153f33500f0cf83f2e1d" title="Atomic decrement operation KAAPI_ATOMIC_DECR_NV(address) atomically decrements the...">KAAPI_ATOMIC_DECR_NV(address)</a> atomically decrements the value pointed by *address and returns the new value.  <a href="#ga77c6232bc27b153f33500f0cf83f2e1d"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p><a class="el" href="class_util_1_1_thread.html" title="POSIX interface to thread.">Thread</a> creation, synchronization and atomic instructions. </p>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="ga546ee94d2cd59be8fdc268cf6c2b3667"></a><!-- doxytag: member="utils_atomic.h::KAAPI_ATOMIC_DECR" ref="ga546ee94d2cd59be8fdc268cf6c2b3667" args="(address)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define KAAPI_ATOMIC_DECR</td>
          <td>(</td>
          <td class="paramtype">address&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Atomic decrement operation <a class="el" href="group___multithreading.html#ga546ee94d2cd59be8fdc268cf6c2b3667" title="Atomic decrement operation KAAPI_ATOMIC_DECR(address) atomically decrements the value...">KAAPI_ATOMIC_DECR(address)</a> atomically decrements the value pointed by *address. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>address</em>&nbsp;</td><td>the address of the signed int word </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>no</em>&nbsp;</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga77c6232bc27b153f33500f0cf83f2e1d"></a><!-- doxytag: member="utils_atomic.h::KAAPI_ATOMIC_DECR_NV" ref="ga77c6232bc27b153f33500f0cf83f2e1d" args="(address)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define KAAPI_ATOMIC_DECR_NV</td>
          <td>(</td>
          <td class="paramtype">address&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Atomic decrement operation <a class="el" href="group___multithreading.html#ga77c6232bc27b153f33500f0cf83f2e1d" title="Atomic decrement operation KAAPI_ATOMIC_DECR_NV(address) atomically decrements the...">KAAPI_ATOMIC_DECR_NV(address)</a> atomically decrements the value pointed by *address and returns the new value. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>address</em>&nbsp;</td><td>the address of the signed int word </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>the</em>&nbsp;</td><td>new value </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga33a317a535698d355eeb2ecd2d0cd2f6"></a><!-- doxytag: member="utils_atomic.h::KAAPI_ATOMIC_INCR" ref="ga33a317a535698d355eeb2ecd2d0cd2f6" args="(address)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define KAAPI_ATOMIC_INCR</td>
          <td>(</td>
          <td class="paramtype">address&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Atomic increment operation <a class="el" href="group___multithreading.html#ga33a317a535698d355eeb2ecd2d0cd2f6" title="Atomic increment operation KAAPI_ATOMIC_INCR(address) atomically increments the value...">KAAPI_ATOMIC_INCR(address)</a> atomically increments the value pointed by *address. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>address</em>&nbsp;</td><td>the address of the signed int word </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga37f87efe1081bb8ee41383e336fa08f6"></a><!-- doxytag: member="utils_atomic.h::KAAPI_ATOMIC_INCR_NV" ref="ga37f87efe1081bb8ee41383e336fa08f6" args="(address)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define KAAPI_ATOMIC_INCR_NV</td>
          <td>(</td>
          <td class="paramtype">address&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Atomic increment operation <a class="el" href="group___multithreading.html#ga33a317a535698d355eeb2ecd2d0cd2f6" title="Atomic increment operation KAAPI_ATOMIC_INCR(address) atomically increments the value...">KAAPI_ATOMIC_INCR(address)</a> atomically increments the value pointed by *address and return the new value. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>address</em>&nbsp;</td><td>the address of the signed int word </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>the</em>&nbsp;</td><td>new value </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gabcd58469ff80de36f6125dfb5ff0ea7c"></a><!-- doxytag: member="utils_atomic.h::KAAPI_CAS" ref="gabcd58469ff80de36f6125dfb5ff0ea7c" args="(address, oldvalue, newvalue)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define KAAPI_CAS</td>
          <td>(</td>
          <td class="paramtype">address, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">oldvalue, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">newvalue&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>CompareAndSwap atomic operation. <a class="el" href="group___multithreading.html#gabcd58469ff80de36f6125dfb5ff0ea7c" title="CompareAndSwap atomic operation. KAAPI_CAS(address, oldvalue, newvalue) compare oldvalue...">KAAPI_CAS(address, oldvalue, newvalue)</a> compare oldvalue to *address, and set *address to newvalue if the comparison is equal. The comparison and assignment occur as one atomic operation. The compare-and-swap operations return true if the comparison was equal, ie if the swap occured. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>address</em>&nbsp;</td><td>the address of the unsigned int word </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>oldvalue</em>&nbsp;</td><td>the old value for comparaison </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>newvalue</em>&nbsp;</td><td>the new value to swap with oldvalue if comparaison is true </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>true</em>&nbsp;</td><td>iff the atomic compare and swap success </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Wed Jun 16 08:51:57 2010 for Kaapi by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
