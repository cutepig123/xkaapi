<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Kaapi: Util::EventDaemon Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespace_util.html">Util</a>::<a class="el" href="class_util_1_1_event_daemon.html">EventDaemon</a>
  </div>
</div>
<div class="contents">
<h1>Util::EventDaemon Class Reference<br/>
<small>
[<a class="el" href="group___misc.html">Misc</a>]</small>
</h1><!-- doxytag: class="Util::EventDaemon" --><!-- doxytag: inherits="Util::Thread,Util::Object" -->
<p><code>#include &lt;utils_event.h&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Util::EventDaemon:</div>
<div class="dynsection">
<div class="center"><img src="class_util_1_1_event_daemon__inherit__graph.png" border="0" usemap="#_util_1_1_event_daemon_inherit__map" alt="Inheritance graph"/></div>
<map name="_util_1_1_event_daemon_inherit__map" id="_util_1_1_event_daemon_inherit__map">
<area shape="rect" id="node2" href="class_util_1_1_thread.html" title="POSIX interface to thread." alt="" coords="11,83,117,112"/><area shape="rect" id="node4" href="class_util_1_1_object_id.html" title="Object with identifierThe Object class defines object that needs to have and identifier..." alt="" coords="5,5,120,35"/><area shape="rect" id="node6" href="class_util_1_1_object.html" title="Object with synchronisation mutex and condition variablesThe Object class defines..." alt="" coords="143,83,241,112"/><area shape="rect" id="node9" href="class_util_1_1_mutex.html" title="Exclusive code execution.This class implements interface for Posix mutex. All errors..." alt="" coords="144,5,243,35"/><area shape="rect" id="node11" href="class_util_1_1_condition.html" title="Posix conditionsThis class implements interface to posix condition variable. All..." alt="" coords="267,5,387,35"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for Util::EventDaemon:</div>
<div class="dynsection">
<div class="center"><img src="class_util_1_1_event_daemon__coll__graph.png" border="0" usemap="#_util_1_1_event_daemon_coll__map" alt="Collaboration graph"/></div>
<map name="_util_1_1_event_daemon_coll__map" id="_util_1_1_event_daemon_coll__map">
<area shape="rect" id="node2" href="class_util_1_1_thread.html" title="POSIX interface to thread." alt="" coords="791,648,897,677"/><area shape="rect" id="node29" href="class_util_1_1_event_buffer_manager.html" title="A Generic Buffer Manager : EventBufferManager EventBufferManager is an implementation..." alt="" coords="1123,381,1325,411"/><area shape="rect" id="node4" href="class_util_1_1_object_id.html" title="Object with identifierThe Object class defines object that needs to have and identifier..." alt="" coords="391,592,505,621"/><area shape="rect" id="node49" href="class_util_1_1_object.html" title="Object with synchronisation mutex and condition variablesThe Object class defines..." alt="" coords="795,553,893,583"/><area shape="rect" id="node7" href="class_util_1_1_key.html" title="Util::Key\&lt; ByteAllocator \&gt;" alt="" coords="347,705,549,735"/><area shape="rect" id="node9" href="class_util_1_1_key.html" title="Thread private attributeThis class provides an interface to posix pthread specific..." alt="" coords="23,679,143,708"/><area shape="rect" id="node11" href="class_util_1_1_key.html" title="Util::Key\&lt; Thread \&gt;" alt="" coords="367,652,529,681"/><area shape="rect" id="node14" href="class_util_1_1_o_event_stream.html" title="Output events stream: Util::OEventStream." alt="" coords="1448,183,1605,212"/><area shape="rect" id="node16" href="class_util_1_1_context_id.html" title="Util::ContextId" alt="" coords="783,5,905,35"/><area shape="rect" id="node18" href="class_util_1_1_event_buffer.html" title="A Generic Trace Buffer class: Util::EventBuffer." alt="" coords="1155,99,1293,128"/><area shape="rect" id="node20" href="class_util_1_1_queable.html" title="Util::Queable\&lt; EventBuffer \&gt;" alt="" coords="335,128,561,157"/><area shape="rect" id="node39" href="class_util_1_1_queue.html" title="Util::Queue\&lt; EventBuffer \&gt;" alt="" coords="736,236,952,265"/><area shape="rect" id="node23" href="class_util_1_1_queable.html" title="Base class of object queueable into double linked list.To be en(de)queueable in a..." alt="" coords="7,128,159,157"/><area shape="rect" id="node26" href="class_util_1_1_global_id.html" title="Class for representing a global identifier of the distributed processusGlobal Identifier..." alt="" coords="788,183,900,212"/><area shape="rect" id="node32" href="class_util_1_1_reify_notify_signal.html" title="ReifyNotifySignalThis class allows to reify the invocations to InterfaceSignal::signal..." alt="" coords="756,348,932,377"/><area shape="rect" id="node34" href="class_util_1_1_interface_notify.html" title="InterfaceNotify for the local signal." alt="" coords="367,348,529,377"/><area shape="rect" id="node37" href="class_util_1_1_condition.html" title="Posix conditionsThis class implements interface to posix condition variable. All..." alt="" coords="388,512,508,541"/><area shape="rect" id="node42" href="class_util_1_1_queue.html" title="Double linked list (thread unsafe)The queue descriptor is linked to the first and..." alt="" coords="377,236,519,265"/><area shape="rect" id="node44" href="class_util_1_1_mutex.html" title="Exclusive code execution.This class implements interface for Posix mutex. All errors..." alt="" coords="399,444,497,473"/><area shape="rect" id="node47" href="struct_util_1_1kaapi__atomic__t.html" title="Util::kaapi_atomic_t" alt="" coords="368,759,528,788"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="class_util_1_1_event_daemon-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_util_1_1_event_daemon.html#ad4ecf58e39b03e103385c3279cb31be6">EventDaemon</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_util_1_1_event_daemon.html#a89fadd2aeb30c2da51b27d160a9b6678">initialize</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_util_1_1_event_daemon.html#a9f960c5a2e95262f59d27d6be8479035">terminate</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_util_1_1_event_daemon.html#a391383c590cc7cf9dc100767e38ebfed">insert_event</a> (<a class="el" href="struct_util_1_1_event.html">Util::Event</a> *evt)</td></tr>
<tr><td colspan="2"><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_util_1_1_event_daemon.html#a49f58fdadedd4d5dd77c557a8eedbe5f">run</a> ()</td></tr>
<tr><td colspan="2"><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_util_1_1_event_daemon.html#a6abb27c05d5c768be3a9773bcaef3a58">_should_stop</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::priority_queue<br class="typebreak"/>
&lt; <a class="el" href="struct_util_1_1_event.html">Util::Event</a> *, std::vector<br class="typebreak"/>
&lt; <a class="el" href="struct_util_1_1_event.html">Event</a> * &gt;<br class="typebreak"/>
, <a class="el" href="struct_util_1_1_event_1_1compare.html">Util::Event::compare</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_util_1_1_event_daemon.html#a01ecafc480dacd51091b03f418a31d07">_events</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">the priority queue of event to notify  <a href="#a01ecafc480dacd51091b03f418a31d07"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Definition of the event daemon.</p>
<p>An event daemon is like a thread that should be started as any <a class="el" href="class_util_1_1_thread.html" title="POSIX interface to thread.">Util::Thread</a> object. An event daemon manages periodic events such as:</p>
<ul>
<li>detection of the terminaison (in WorkStealing repository of Kaapi, ws/)</li>
<li>checkpoint of threads of the system (in Fault Tolerant repository of Kaapi) An event is generated only after it is registered as a callback at a given absolute time to start the event. </li>
</ul>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ad4ecf58e39b03e103385c3279cb31be6"></a><!-- doxytag: member="Util::EventDaemon::EventDaemon" ref="ad4ecf58e39b03e103385c3279cb31be6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Util::EventDaemon::EventDaemon </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a89fadd2aeb30c2da51b27d160a9b6678"></a><!-- doxytag: member="Util::EventDaemon::initialize" ref="a89fadd2aeb30c2da51b27d160a9b6678" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Util::EventDaemon::initialize </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initialize the daemon </p>

<p>Reimplemented from <a class="el" href="class_util_1_1_object.html#a5c586b3aab6eee1a05d0374b9592e18f">Util::Object</a>.</p>

</div>
</div>
<a class="anchor" id="a391383c590cc7cf9dc100767e38ebfed"></a><!-- doxytag: member="Util::EventDaemon::insert_event" ref="a391383c590cc7cf9dc100767e38ebfed" args="(Util::Event *evt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Util::EventDaemon::insert_event </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_util_1_1_event.html">Util::Event</a> *&nbsp;</td>
          <td class="paramname"> <em>evt</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Register a new event The event 'evt' should has its fields setup to correct value:</p>
<ul>
<li>evt.ecbk a pointer to the event callback</li>
<li>evt.abstime the absolute time for the next signal (in second)</li>
<li>evt.period the period of the event (in second) The event daemon call the notify function associated to the event when the date expire. If notify returns true then the event is reinsert taking into account the period of the event. The method is thread safe and multiple concurrent invocations may be call. <dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>evt</em>&nbsp;</td><td>the event to register to the event daemon </td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>

</div>
</div>
<a class="anchor" id="a49f58fdadedd4d5dd77c557a8eedbe5f"></a><!-- doxytag: member="Util::EventDaemon::run" ref="a49f58fdadedd4d5dd77c557a8eedbe5f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Util::EventDaemon::run </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Entry point executed by new started thread of control. This method is call when a new thread of control has been sucessfully created and started. Because a new thread cannot be join (as Posix do), no return value are required. Passing parameters to the thread reported to object creation of a derived class from <a class="el" href="class_util_1_1_thread.html" title="POSIX interface to thread.">Thread</a> class. </p>

<p>Implements <a class="el" href="class_util_1_1_thread.html#a03b356f7fa0cdddcdafe54b1106a9433">Util::Thread</a>.</p>

</div>
</div>
<a class="anchor" id="a9f960c5a2e95262f59d27d6be8479035"></a><!-- doxytag: member="Util::EventDaemon::terminate" ref="a9f960c5a2e95262f59d27d6be8479035" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Util::EventDaemon::terminate </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Terminate the daemon </p>

<p>Reimplemented from <a class="el" href="class_util_1_1_object.html#ac56dc69161e667fec85e1565509c08ac">Util::Object</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a01ecafc480dacd51091b03f418a31d07"></a><!-- doxytag: member="Util::EventDaemon::_events" ref="a01ecafc480dacd51091b03f418a31d07" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::priority_queue&lt;<a class="el" href="struct_util_1_1_event.html">Util::Event</a>*, std::vector&lt;<a class="el" href="struct_util_1_1_event.html">Event</a>*&gt;, <a class="el" href="struct_util_1_1_event_1_1compare.html">Util::Event::compare</a> &gt; <a class="el" href="class_util_1_1_event_daemon.html#a01ecafc480dacd51091b03f418a31d07">Util::EventDaemon::_events</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>the priority queue of event to notify </p>

</div>
</div>
<a class="anchor" id="a6abb27c05d5c768be3a9773bcaef3a58"></a><!-- doxytag: member="Util::EventDaemon::_should_stop" ref="a6abb27c05d5c768be3a9773bcaef3a58" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_util_1_1_event_daemon.html#a6abb27c05d5c768be3a9773bcaef3a58">Util::EventDaemon::_should_stop</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="utils__event_8h.html">utils_event.h</a></li>
</ul>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Wed Jun 16 08:53:24 2010 for Kaapi by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
